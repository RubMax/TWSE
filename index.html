<!DOCTYPE html>
<html lang="fr">
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">
  <title>RubMaxApp</title>

  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png" type="image/png">
  <meta name="theme-color" content="#ffffff">

  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="https://script.google.com/macros/s/AKfycbwoTyj8mpGYPfWCOxszGA-SPYTSBsJbJoHyFKgIr-b5xSAu-CO9pgE3bCebLGAWCVDnPg/exec?page=manifest">

<script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-messaging.js"></script>
  <script src="firebase-messaging-sw.js"></script>

</head>
<body>
  
  <!-- En-t√™te fixe -->
  <div class="fixed-header">
    <div class="logo-container" style="display: flex">
      <img id="logo" src="https://iili.io/FvPnHMP.jpg" alt="logo" class="logo-img"> 
      <button id="installBtn" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: #28a745;
  color: white;
  padding: 12px 20px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
  z-index: 9999;
  cursor: pointer;
">
  üì≤ App
</button>

    </div>


    <div class="nav-scroll-container" id="nav-container">
      <div id="section-nav" class="section-nav"></div>
    </div>
  </div>
<br>
  <!-- Contenu principal -->
  <div class="container main-content">
    <div id="produits"></div>
  </div>

  <!-- Popup avec galerie d'images -->
<div id="popup" class="popup">
  <span class="popup-close" onclick="closePopup()">&times;</span>
  
  <div class="gallery-container">
    <div class="image-gallery">
      <div class="gallery-images" id="gallery-images"></div>
      
      <!-- Boutons de navigation -->
      <div class="gallery-buttons">
        <button class="gallery-btn prev-btn" onclick="prevImage()">‚ùÆ</button>
        <button class="gallery-btn next-btn" onclick="nextImage()">‚ùØ</button>
      </div>
      
      <!-- Indicateurs de points -->
      <div class="gallery-dots" id="gallery-dots"></div>
    </div>
  </div>
  
  <div id="popup-details" class="popup-content"></div>
</div>
  
  <!-- Description Popup -->
  <div id="description-popup" class="description-popup">
    <div class="description-popup-content">
      <span class="description-popup-close" onclick="closeDescriptionPopup()">&times;</span>
      <div id="description-content"></div>
    </div>
  </div>

   <!-- Pub Popup -->
  <div id="pub-popup" class="pub-popup">
    <div class="pub-content">
      <button class="pub-close" onclick="closePubPopup()">&times;</button>
      <div id="pub-container"></div>
      <div class="pub-nav-dots" id="pub-dots"></div>
    </div>
  </div>

  <!-- Pied depage -->
  <div id="ped de page">
    
        
        <div class="copyright" style="text-align: center;">
            &copy; 2020 RubMax Servicos - Todos os direitos reservados
        </div>
    </div>
    
    <br>

  </div>
  


  <!-- Popup personnalis√© -->
<div id="popup-welcome" class="popup-overlay" style="display: none;">
  <div class="popup-content">
    <span class="close-btn" onclick="document.getElementById('popup-welcome').style.display='none'">&times;</span>
    <h2>üëã TAUX DU JOUR !</h2> 
    <p>Chargement...</p>
    <button class="popup-ok-btn" onclick="document.getElementById('popup-welcome').style.display='none'">OK</button>
  </div>
</div>


  <script src="script.js" defer></script>
  <script src="install.js"></script>
  <button onclick="subscribe()">S‚Äôabonner aux notifications</button>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBLZolkFzioGRPyl_ysp5XcYpMbWMKXEn0", // üü¢ ton vrai apiKey
      authDomain: "rubmax.firebaseapp.com",
      projectId: "rubmax",
      storageBucket: "rubmax.appspot.com",
      messagingSenderId: "792152166197", // üî¢ remplace par ton senderId
      appId: "1:792152166197:web:d68ec39315762642f6c67c"
    };

    firebase.initializeApp(firebaseConfig);

    const messaging = firebase.messaging();

    function subscribe() {
      Notification.requestPermission().then(function(permission) {
        if (permission === 'granted') {
          messaging.getToken({ vapidKey: "TON_VAPID_KEY" }) // g√©n√©r√©e plus bas
            .then((currentToken) => {
              if (currentToken) {
                console.log("Token : ", currentToken);
                alert("Inscription OK !");
              } else {
                console.log("Aucun token.");
              }
            }).catch((err) => {
              console.log("Erreur getToken : ", err);
            });
        }
      });
    }

    messaging.onMessage(function(payload) {
      console.log("Message re√ßu ! ", payload);
      alert("üîî Notification : " + payload.notification.title);
    });
  </script>

</body>
</html>
